"use strict";var scripts;(scripts||={}).Menu=(()=>{var d=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var N=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},O=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x(t))!M.call(e,o)&&o!==r&&d(e,o,{get:()=>t[o],enumerable:!(n=S(t,o))||n.enumerable});return e};var E=e=>O(d({},"__esModule",{value:!0}),e);var q={};N(q,{default:()=>L});function w(e,t,r){e=Math.min(255,Math.max(0,Math.round(e))),t=Math.min(255,Math.max(0,Math.round(t))),r=Math.min(255,Math.max(0,Math.round(r)));let n=e.toString(16).padStart(2,"0"),o=t.toString(16).padStart(2,"0"),i=r.toString(16).padStart(2,"0");return`#${n}${o}${i}`.toUpperCase()}var f=e=>{let t=e.slice(4,-1).split(",").map(r=>parseInt(r.trim()));if(t.length===3)return w(t[0],t[1],t[2])};var p=e=>{let t=window.getComputedStyle(e),r={};return Object.values(t).forEach(n=>{r[n]=t.getPropertyValue(n)}),r};var m=e=>e.charAt(0).toUpperCase()+e.slice(1);var s=e=>{let t=e.split("-");for(let r=1;r<t.length;r++)t[r]=m(t[r]);return t.join("")};var C={"font-family":void 0,"font-family-type":"uploaded","font-weight":void 0,"font-size":void 0,"line-height":void 0,"letter-spacing":void 0,colorHex:void 0,colorOpacity:1,activeColorHex:void 0,activeColorOpacity:void 0},g=e=>{let{node:t,families:r,defaultFamily:n}=e,o=p(t),i={};return Object.keys(C).forEach(a=>{switch(a){case"font-family":{let u=o[a].replace(/['"\,]/g,"").replace(/\s/g,"_").toLocaleLowerCase();r[u]?i[s(a)]=r[u]:i[s(a)]=n;break}case"font-family-type":{i[s(a)]="upload";break}case"line-height":{i[s(a)]=1;break}case"font-size":{i[s(a)]=parseInt(o[a]);break}case"letter-spacing":{let c=o[a];if(c==="normal")i[s(a)]=0;else{let u=c.replace(/px/g,"").trim();i[s(a)]=+u}break}case"colorHex":{let c=f(o.color);i[s(a)]=c??"#000000";break}case"colorOpacity":break;default:i[s(a)]=o[a]}}),i};var y=()=>{try{return{selector:"{{selector}}",families:JSON.parse("{{families}}"),defaultFamily:"{{defaultFamily}}"}}catch(e){let r={selector:".my-div",families:{lato:"uid_for_lato",roboto:"uid_for_roboto"},defaultFamily:"lato"};throw new Error(JSON.stringify({error:`Invalid JSON ${e}`,details:`Must be: ${JSON.stringify(r)}`}))}},v=e=>JSON.stringify(e);var h=(e,t)=>Object.entries(e).reduce((r,[n,o])=>{let i=t+m(n);return n.startsWith("active")&&(i=`active${m(t)}${n.replace("active","")}`),{...r,[i]:o}},{});var l={},$=e=>{let{nav:t,selector:r}=e,n=t.children[0],o={};if(!n)return l.menu={message:`Navigation don't have ul in ${r}`},o;if(!n.querySelector("li"))return l["menu li"]={message:`Navigation don't have ul > li in ${r}`},o;let a=n.querySelector("li > a");return a?(o=g({node:a,families:e.families,defaultFamily:e.defaultFamily}),{...o,itemPadding:20}):(l["menu li a"]={message:`Navigation don't have ul > li > a in ${r}`},o)},F=e=>{let{subNav:t,selector:r}=e,n={};if(!t.querySelector("li"))return l["submenu li"]={message:`Navigation don't have ul > li in ${r}`},n;let i=t.querySelector("li > a");if(!i)return l["submenu li a"]={message:`Navigation don't have ul > li > a in ${r}`},n;let a=g({node:i,families:e.families,defaultFamily:e.defaultFamily}),c=h(a,"subMenu"),u=window.getComputedStyle(t),b=f(u.backgroundColor)??"#ffffff";return{...c,subMenuBgColorOpacity:1,subMenuBgColorHex:b}},H=e=>{let{subNav:t}=e,r=$(e);if(t){let n=F({...e,subNav:t});r={...r,...n}}return r},T=e=>{let t=document.querySelector(e.selector);if(!t)return JSON.stringify({error:`Element with selector ${e.selector} not found`,warns:l});let r=t;if(!r)return JSON.stringify({error:`Element with selector ${e.selector} has no header`,warns:l});let n=r.querySelector("#main-navigation");if(!n)return JSON.stringify({error:`Element with selector ${e.selector} has no nav`,warns:l});let o=r.querySelector(".sub-navigation")??void 0,i={nav:n,subNav:o,selector:e.selector,families:e.families,defaultFamily:e.defaultFamily};return v({data:H(i),warns:l})},D=y(),R=T(D),L=R;return E(q);})();
