# Детальные шаги выполнения

## Этап 3: Выявление проблем

### Шаг 3.1: Сравнить текущую реализацию с реальными страницами

**Что делать:**
1. Открыть `analysis/current-implementation.md`
2. Открыть `analysis/real-pages-analysis.md`
3. Сравнить:
   - Как извлекаются стили
   - Как применяются padding'ы
   - Как применяются margin'ы
   - Есть ли обработка мобильных версий
   - Есть ли обработка tablet версий

**Ожидаемый результат:** Список несоответствий

**Критерии готовности:**
- [ ] Все несоответствия найдены
- [ ] Документированы в `analysis/issues-found.md`

---

### Шаг 3.2: Найти несоответствия

**Что делать:**
1. Проверить, правильно ли извлекаются padding'ы из DOM
2. Проверить, правильно ли извлекаются margin'ы из DOM
3. Проверить, правильно ли применяются мобильные стили
4. Проверить, правильно ли применяются tablet стили
5. Проверить, учитываются ли additionalOptions

**Ожидаемый результат:** Список конкретных несоответствий

**Критерии готовности:**
- [ ] Все несоответствия задокументированы
- [ ] Для каждого несоответствия указана причина

---

### Шаг 3.3: Определить критические проблемы

**Что делать:**
1. Для каждой проблемы определить:
   - Влияет ли она на визуальное отображение?
   - Влияет ли она на функциональность?
   - Сколько страниц/тем затронуто?
2. Пометить проблемы как:
   - Критические (блокируют работу)
   - Важные (влияют на качество)
   - Желательные (улучшения)

**Ожидаемый результат:** Приоритизированный список проблем

**Критерии готовности:**
- [ ] Все проблемы приоритизированы
- [ ] Критические проблемы выделены

---

## Этап 4: Планирование исправлений

### Шаг 4.1: Предложить решение для каждой проблемы

**Что делать:**
1. Для каждой проблемы:
   - Описать текущее поведение
   - Описать желаемое поведение
   - Предложить способ исправления
   - Оценить сложность (легко/средне/сложно)
   - Оценить риск (низкий/средний/высокий)

**Ожидаемый результат:** Список решений для каждой проблемы

**Критерии готовности:**
- [ ] Для каждой проблемы есть решение
- [ ] Оценена сложность и риск

---

### Шаг 4.2: Определить порядок исправлений

**Что делать:**
1. Сначала исправить критические проблемы
2. Затем важные проблемы
3. В конце желательные улучшения
4. Учесть зависимости между исправлениями

**Ожидаемый результат:** Порядок исправлений

**Критерии готовности:**
- [ ] Определен порядок исправлений
- [ ] Учтены зависимости

---

### Шаг 4.3: Спланировать тестирование

**Что делать:**
1. Для каждого исправления определить:
   - Что нужно протестировать
   - Как тестировать
   - Какие страницы использовать
   - Какие темы проверить
2. Создать тест-кейсы

**Ожидаемый результат:** План тестирования

**Критерии готовности:**
- [ ] Для каждого исправления есть тест-кейсы
- [ ] Определены критерии успешности

---

## Этап 5: Реализация исправлений

### Шаг 5.1: Исправить мобильные padding'ы ✅

**Что делать:**
1. Открыть `SectionStylesAble.php`
2. Найти строки 139-148
3. Заменить использование `margin-bottom` на правильные значения
4. Использовать `additionalOptions` с fallback на `sectionStyles`

**Ожидаемый результат:** Исправленный код

**Критерии готовности:**
- [ ] Код исправлен
- [ ] Линтер не показывает ошибок
- [ ] Изменения задокументированы

**Статус:** ✅ Выполнено

---

### Шаг 5.2: Проверить обработку margin'ов

**Что делать:**
1. Проверить, правильно ли извлекаются margin'ы из DOM
2. Проверить, правильно ли применяются margin'ы
3. Проверить, учитываются ли additionalOptions для margin'ов
4. Проверить, нужно ли обрабатывать margin collapse

**Ожидаемый результат:** Анализ обработки margin'ов

**Критерии готовности:**
- [ ] Проверка выполнена
- [ ] Найдены проблемы (если есть)
- [ ] Документированы результаты

---

### Шаг 5.3: Добавить обработку мобильных margin'ов (если нужно)

**Что делать:**
1. Проверить, извлекаются ли мобильные margin'ы из DOM
2. Если нет, определить, нужно ли их извлекать
3. Если нужно, добавить извлечение
4. Добавить применение мобильных margin'ов

**Ожидаемый результат:** Обработка мобильных margin'ов (если нужно)

**Критерии готовности:**
- [ ] Определено, нужно ли это
- [ ] Если нужно, реализовано
- [ ] Протестировано

---

### Шаг 5.4: Добавить обработку tablet margin'ов (если нужно)

**Что делать:**
1. Проверить, извлекаются ли tablet margin'ы из DOM
2. Если нет, определить, нужно ли их извлекать
3. Если нужно, добавить извлечение
4. Добавить применение tablet margin'ов

**Ожидаемый результат:** Обработка tablet margin'ов (если нужно)

**Критерии готовности:**
- [ ] Определено, нужно ли это
- [ ] Если нужно, реализовано
- [ ] Протестировано

---

### Шаг 5.5: Улучшить логику применения additionalOptions

**Что делать:**
1. Проверить текущую логику применения additionalOptions
2. Убедиться, что они имеют правильный приоритет
3. Убедиться, что они не перезаписывают важные значения
4. Улучшить логику, если нужно

**Ожидаемый результат:** Улучшенная логика применения additionalOptions

**Критерии готовности:**
- [ ] Логика проверена
- [ ] Улучшена (если нужно)
- [ ] Протестирована

---

## Этап 6: Тестирование

### Шаг 6.1: Создать тест-кейсы

**Что делать:**
1. Создать тест-кейсы для:
   - Desktop версии
   - Mobile версии
   - Tablet версии
2. Для каждой темы:
   - Boulevard
   - Aurora
   - Bloom
   - Solstice
   - Ember
   - Anthem
   - И другие

**Ожидаемый результат:** Список тест-кейсов

**Критерии готовности:**
- [ ] Тест-кейсы созданы
- [ ] Покрывают все сценарии

---

### Шаг 6.2: Протестировать на реальных страницах

**Что делать:**
1. Выбрать тестовые страницы:
   - lifespringhill.org
   - c3forchrist.org
   - camptekakwitha.org
2. Для каждой страницы:
   - Запустить миграцию
   - Проверить отступы визуально
   - Измерить отступы программно
   - Сравнить с исходной страницей

**Ожидаемый результат:** Результаты тестирования

**Критерии готовности:**
- [ ] Все страницы протестированы
- [ ] Результаты задокументированы

---

### Шаг 6.3: Протестировать на разных темах

**Что делать:**
1. Для каждой темы:
   - Создать тестовую страницу
   - Запустить миграцию
   - Проверить отступы
2. Сравнить результаты между темами

**Ожидаемый результат:** Результаты тестирования по темам

**Критерии готовности:**
- [ ] Все темы протестированы
- [ ] Результаты задокументированы

---

### Шаг 6.4: Проверить responsive версии

**Что делать:**
1. Для каждой тестовой страницы:
   - Проверить desktop версию
   - Проверить tablet версию
   - Проверить mobile версию
2. Убедиться, что отступы правильные на всех размерах

**Ожидаемый результат:** Результаты тестирования responsive версий

**Критерии готовности:**
- [ ] Все версии протестированы
- [ ] Результаты задокументированы

---

## Этап 7: Документация

### Шаг 7.1: Обновить документацию кода

**Что делать:**
1. Добавить комментарии к исправленному коду
2. Объяснить логику работы
3. Указать известные ограничения

**Ожидаемый результат:** Обновленная документация кода

**Критерии готовности:**
- [ ] Комментарии добавлены
- [ ] Логика объяснена

---

### Шаг 7.2: Создать руководство по использованию

**Что делать:**
1. Описать, как работают отступы
2. Объяснить, как использовать additionalOptions
3. Привести примеры

**Ожидаемый результат:** Руководство по использованию

**Критерии готовности:**
- [ ] Руководство создано
- [ ] Примеры добавлены

---

### Шаг 7.3: Задокументировать известные ограничения

**Что делать:**
1. Перечислить известные ограничения
2. Объяснить причины
3. Предложить обходные пути (если есть)

**Ожидаемый результат:** Документ с ограничениями

**Критерии готовности:**
- [ ] Ограничения задокументированы
- [ ] Обходные пути предложены
