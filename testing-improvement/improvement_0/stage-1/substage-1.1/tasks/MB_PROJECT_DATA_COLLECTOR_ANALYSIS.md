# –ê–Ω–∞–ª–∏–∑ –∫–ª–∞—Å—Å–∞ MBProjectDataCollector

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2025-01-27  
**–ó–∞–¥–∞—á–∞**: task-1.4-study-mb-collector  
**–§–∞–π–ª**: `lib/MBMigration/Layer/MB/MBProjectDataCollector.php`

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ö–ª–∞—Å—Å**: `MBMigration\Layer\MB\MBProjectDataCollector`
- **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –ù–µ—Ç (–Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è)
- **Traits**: `DebugBackTrace`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–ª–∞—Å—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Ministry Brands - —Å–∞–π—Ç—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–µ–∫—Ü–∏–∏, —à—Ä–∏—Ñ—Ç—ã, –¥–æ–º–µ–Ω—ã –∏ —Ç.–¥.
- **–í—Å–µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: 19 (–≤–∫–ª—é—á–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, –±–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)

---

## üîç –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### 1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```php
/**
 * @throws Exception
 */
public function __construct($projectId = null)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$projectId` (mixed|null) - ID –ø—Ä–æ–µ–∫—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: void  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—ç—à–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

### 2. setProjectId

```php
public function setProjectId($projectId)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$projectId` (mixed) - ID –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `$this` - –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ID –ø—Ä–æ–µ–∫—Ç–∞ –≤—Ä—É—á–Ω—É—é (–ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–∏)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 3. getDesignSite

```php
/**
 * @throws Exception
 */
public function getDesignSite()
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string|false` - –∏–º—è –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞ –∏–ª–∏ false  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–º—è –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 4. getIdByUUID (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
/**
 * @throws Exception
 */
public static function getIdByUUID($projectUUID_MB)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$projectUUID_MB` (mixed) - UUID –ø—Ä–æ–µ–∫—Ç–∞ –≤ MB

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `int` - ID –ø—Ä–æ–µ–∫—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception` - –µ—Å–ª–∏ UUID –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∏–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å ID –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ UUID  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 5. getDomainBySiteId (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
public static function getDomainBySiteId(int $project_ID_MB)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$project_ID_MB` (int) - ID –ø—Ä–æ–µ–∫—Ç–∞ –≤ MB

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string|null` - –¥–æ–º–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ null  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –¥–æ–º–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ ID —Å–∞–π—Ç–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 6. normalizeDomain (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
/**
 * Normalize domain by adding previewBaseHost if needed
 * 
 * @param string|null $domain Domain name to normalize
 * @return string|null Normalized domain or null if input is null/empty
 */
public static function normalizeDomain(?string $domain): ?string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$domain` (string|null) - –¥–æ–º–µ–Ω –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string|null` - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω –∏–ª–∏ null  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω, –¥–æ–±–∞–≤–∏–≤ previewBaseHost –µ—Å–ª–∏ –Ω—É–∂–Ω–æ  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 7. getAllDomainsBySiteId (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
/**
 * Get all domains for a site by site_id
 * 
 * @param int $siteId Site ID
 * @return array Array of domain names
 */
public static function getAllDomainsBySiteId(int $siteId): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$siteId` (int) - ID —Å–∞–π—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –¥–æ–º–µ–Ω–æ–≤  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–º–µ–Ω—ã –¥–ª—è —Å–∞–π—Ç–∞ –ø–æ ID  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 8. isDomainAccessible (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
/**
 * Check if domain is accessible (not showing error page)
 * 
 * @param string $domain Domain to check (should be normalized with protocol)
 * @return bool True if domain is accessible, false otherwise
 */
public static function isDomainAccessible(string $domain): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$domain` (string) - –¥–æ–º–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `bool` - true –µ—Å–ª–∏ –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏)  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –¥–æ–º–µ–Ω (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 9. findAvailableDomain (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

```php
/**
 * Find an available domain from all domains for a site
 * 
 * @param int $siteId Site ID
 * @return string|null Available domain name or null if none found
 */
public static function findAvailableDomain(int $siteId): ?string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$siteId` (int) - ID —Å–∞–π—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string|null` - –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–æ–º–µ–Ω –∏–ª–∏ null  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–æ–º–µ–Ω –∏–∑ –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è —Å–∞–π—Ç–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 10. getSite

```php
/**
 * @throws Exception
 * @throws GuzzleException
 */
public function getSite()
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array|false` - –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞ –∏–ª–∏ false  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`, `GuzzleException`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (id, uuid, name, title, domain, design, settings, favicon, fonts –∏ —Ç.–¥.)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 11. getFonts

```php
/**
 * @throws Exception
 * @throws GuzzleException
 */
public function getFonts($settings, $fontThemeUUID, $migrationDefaultFonts = 'poppins'): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$settings` (mixed) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
- `$fontThemeUUID` (mixed) - UUID —Ç–µ–º—ã —à—Ä–∏—Ñ—Ç–æ–≤
- `$migrationDefaultFonts` (string) - —à—Ä–∏—Ñ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'poppins')

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —à—Ä–∏—Ñ—Ç–æ–≤  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`, `GuzzleException`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —à—Ä–∏—Ñ—Ç—ã –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–ª–∏ —Ç–µ–º—ã —à—Ä–∏—Ñ—Ç–æ–≤  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 12. getDefaultFont

```php
/**
 * @throws GuzzleException
 * @throws Exception
 */
public function getDefaultFont($fontThemeUUID, $migrationDefaultFonts)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$fontThemeUUID` (mixed) - UUID —Ç–µ–º—ã —à—Ä–∏—Ñ—Ç–æ–≤
- `$migrationDefaultFonts` (mixed) - —à—Ä–∏—Ñ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —à—Ä–∏—Ñ—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `GuzzleException`, `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —à—Ä–∏—Ñ—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ —Ç–µ–º—ã —à—Ä–∏—Ñ—Ç–æ–≤  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 13. getMainSection

```php
/**
 * @throws Exception
 */
public function getMainSection(): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –≥–ª–∞–≤–Ω—ã—Ö —Å–µ–∫—Ü–∏–π —Å–∞–π—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≥–ª–∞–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ —Å–∞–π—Ç–∞ (—Å–µ–∫—Ü–∏–∏ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 14. getPages

```php
public function getPages(): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π (—Ä–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç–æ–º–æ–∫)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 15. getParentPages

```php
/**
 * @throws Exception
 * @deprecated Very slow implementation. Use getPages.
 */
public function getParentPages(): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getPages)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ò–ô (deprecated)

---

### 16. getChildFromPages

```php
/**
 * @throws Exception
 */
public function getChildFromPages($parenId): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$parenId` (mixed) - ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –¥–æ—á–µ—Ä–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 17. getSectionsPage

```php
/**
 * @throws Exception
 */
public function getSectionsPage($id): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$id` (mixed) - ID —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —Å–µ–∫—Ü–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ layout  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 18. getAllProjectsID

```php
/**
 * @throws Exception
 */
public function getAllProjectsID()
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤ (id, uuid)  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ ID –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ (setup_step='final', site_type='user' –∏ —Ç.–¥.)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ò–ô

---

### 19. getItemsFromSection

```php
/**
 * @throws GuzzleException
 * @throws Exception
 */
public function getItemsFromSection($sectionId, $assembly = false)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sectionId` (mixed|array) - ID —Å–µ–∫—Ü–∏–∏ –∏–ª–∏ –º–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ–∫—Ü–∏–∏
- `$assembly` (bool) - —Å–æ–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä—É–ø–ø—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–µ–∫—Ü–∏–∏  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `GuzzleException`, `Exception`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å–µ–∫—Ü–∏–∏ (items), —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 20. transLiterationFontFamily

```php
public function transLiterationFontFamily($family): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$family` (mixed) - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞ —à—Ä–∏—Ñ—Ç–æ–≤

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string` - —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞ —à—Ä–∏—Ñ—Ç–æ–≤ (—É–±—Ä–∞—Ç—å –∫–∞–≤—ã—á–∫–∏, –ø—Ä–æ–±–µ–ª—ã, –∑–∞–ø—è—Ç—ã–µ)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

## üìä –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏):
1. `getSite()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞
2. `getMainSection()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≥–ª–∞–≤–Ω—ã—Ö —Å–µ–∫—Ü–∏–π
3. `getPages()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
4. `getSectionsPage()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
5. `getItemsFromSection()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–µ–∫—Ü–∏–∏

### –í–´–°–û–ö–ò–ï (–≤–∞–∂–Ω—ã–µ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏):
- `getDesignSite()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞
- `getIdByUUID()` - –ø–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ UUID (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `getFonts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤
- `getDefaultFont()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –°–†–ï–î–ù–ò–ï (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ):
- `setProjectId()` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ ID –ø—Ä–æ–µ–∫—Ç–∞
- `getDomainBySiteId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `normalizeDomain()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `getAllDomainsBySiteId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `isDomainAccessible()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–æ–º–µ–Ω–∞ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `findAvailableDomain()` - –ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)
- `getChildFromPages()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- `transLiterationFontFamily()` - —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è —à—Ä–∏—Ñ—Ç–æ–≤

### –ù–ò–ó–ö–ò–ï (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ):
- `getParentPages()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (deprecated)
- `getAllProjectsID()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö ID –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏

- `getSite()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getFonts()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–æ–≤
- `getFonts()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getDefaultFont()` –µ—Å–ª–∏ –Ω–µ—Ç —à—Ä–∏—Ñ—Ç–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- `getDefaultFont()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `processFonts()` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥)
- `getMainSection()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getFont()` (protected –º–µ—Ç–æ–¥) –∏ `transLiterationFontFamily()`
- `getItemsFromSection()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getFont()` –∏ `transLiterationFontFamily()`
- `findAvailableDomain()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getAllDomainsBySiteId()` –∏ `normalizeDomain()` –∏ `isDomainAccessible()`
- `getPages()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `getPagesByParent()`
- –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ë–î —á–µ—Ä–µ–∑ `$this->db` (DBConnector)

---

## ‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã**: –ö–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç 6 —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞
2. **–†–∞–±–æ—Ç–∞ —Å –ë–î**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –¥–µ–ª–∞—é—Ç SQL –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Ministry Brands
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à (`$this->cache`) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. **–†–∞–±–æ—Ç–∞ —Å–æ —à—Ä–∏—Ñ—Ç–∞–º–∏**: –ú–µ—Ç–æ–¥—ã `getFonts()`, `getDefaultFont()`, `getMainSection()`, `getItemsFromSection()` —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —à—Ä–∏—Ñ—Ç–æ–≤ –≤ Brizy —á–µ—Ä–µ–∑ `FontsController`
5. **–¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ú–Ω–æ–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–µ—é—Ç —Ç–∏–ø `mixed`, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
6. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Config**: –ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Config::$previewBaseHost` –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤
7. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ trait**: –ö–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç trait `DebugBackTrace` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

1. –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫—Ä–æ–º–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)
2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (PHP 8.0+ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö)
3. –î–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–∏–ø–∞ `mixed` –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `mixed`
4. –î–æ–±–∞–≤–∏—Ç—å PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
5. –£–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ PHPDoc
6. –£—á–µ—Å—Ç—å, —á—Ç–æ `getParentPages()` –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ deprecated - –º–æ–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å —ç—Ç–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

---

## üîç –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã

–ö–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç 6 —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤:
1. `getIdByUUID()` - –ø–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ UUID
2. `getDomainBySiteId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –ø–æ ID —Å–∞–π—Ç–∞
3. `normalizeDomain()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞
4. `getAllDomainsBySiteId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
5. `isDomainAccessible()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–æ–º–µ–Ω–∞
6. `findAvailableDomain()` - –ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞

**–í–∞–∂–Ω–æ**: –í PHP 7.4 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã. –ù—É–∂–Ω–æ –ª–∏–±–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PHP 8.0+ (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
- –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
- –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–Ω–æ —ç—Ç–æ –Ω–∞—Ä—É—à–∏—Ç –ø—Ä–∏–Ω—Ü–∏–ø Dependency Injection)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é PHP –ø—Ä–æ–µ–∫—Ç–∞. –ï—Å–ª–∏ PHP 7.4, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `MBProjectDataCollectorInterface` –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–∑–∞–¥–∞—á–∞ 1.5)
