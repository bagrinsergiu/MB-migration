# –ê–Ω–∞–ª–∏–∑ –∫–ª–∞—Å—Å–æ–≤ Database (MySQL –∏ PostgresSQL)

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2025-01-27  
**–ó–∞–¥–∞—á–∞**: task-1.6-study-database-classes  
**–§–∞–π–ª—ã**: 
- `lib/MBMigration/Layer/DataSource/driver/MySQL.php`
- `lib/MBMigration/Layer/DataSource/driver/PostgresSQL.php`

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### MySQL
- **–ö–ª–∞—Å—Å**: `MBMigration\Layer\DataSource\driver\MySQL`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö MySQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
- **–í—Å–µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: 8 (–≤–∫–ª—é—á–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)

### PostgresSQL
- **–ö–ª–∞—Å—Å**: `MBMigration\Layer\DataSource\driver\PostgresSQL`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Ministry Brands)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `DBConnector` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è
- **–í—Å–µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: 3 (–≤–∫–ª—é—á–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)

---

## üîç –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã MySQL

### 1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```php
public function __construct($username, $password, $dbname = 'migration_DB', $host = 'localhost')
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$username` (mixed) - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `$password` (mixed) - –ø–∞—Ä–æ–ª—å
- `$dbname` (string) - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'migration_DB')
- `$host` (string) - —Ö–æ—Å—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'localhost')

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: void  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ù–µ—Ç  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

### 2. doConnect

```php
/**
 * @throws Exception
 */
public function doConnect(): MySQL
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `MySQL` - –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception` - –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö MySQL  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 3. getSingleValue

```php
public function getSingleValue($sql, $params = [])
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sql` (string) - SQL –∑–∞–ø—Ä–æ—Å
- `$params` (array) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [])

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `mixed` - –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 4. getAllRows

```php
public function getAllRows($sql, $params = [])
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sql` (string) - SQL –∑–∞–ø—Ä–æ—Å
- `$params` (array) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [])

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 5. getColumns

```php
public function getColumns($table, $columns = ['*'], $where = '', $params = [])
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$table` (string) - –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
- `$columns` (array) - —Å–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ['*'])
- `$where` (string) - —É—Å–ª–æ–≤–∏–µ WHERE (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '')
- `$params` (array) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [])

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏ –∏ —É—Å–ª–æ–≤–∏–µ–º WHERE  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–ò–ô

---

### 6. find

```php
public function find($sql, $params = [])
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sql` (string) - SQL –∑–∞–ø—Ä–æ—Å
- `$params` (array) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [])

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array|false` - –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–ª–∏ false  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 7. delete

```php
public function delete($table, $where, $params = []): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$table` (string) - –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
- `$where` (string) - —É—Å–ª–æ–≤–∏–µ WHERE
- `$params` (array) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é [])

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `bool` - true –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø–æ —É—Å–ª–æ–≤–∏—é  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ò–ô

---

### 8. insert

```php
public function insert($table, $data)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$table` (string) - –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
- `$data` (array) - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ (–∫–ª—é—á–∏ = –∫–æ–ª–æ–Ω–∫–∏, –∑–Ω–∞—á–µ–Ω–∏—è = –¥–∞–Ω–Ω—ã–µ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `string|int` - ID –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (lastInsertId)  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `PDOException` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

## üîç –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã PostgresSQL

### 1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```php
/**
 * @throws Exception
 */
public function __construct()
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç  
**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: void  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception` - –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Config::$configPostgreSQL)  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

### 2. request

```php
/**
 * @throws Exception
 */
public function request($sql)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sql` (string) - SQL –∑–∞–ø—Ä–æ—Å

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (PDO::FETCH_ASSOC)  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception` - –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –∏–ª–∏ –Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∑–∞–ø—Ä–æ—Å –∏ –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

### 3. requestArray

```php
/**
 * @throws Exception
 */
public function requestArray($sql)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
- `$sql` (string) - SQL –∑–∞–ø—Ä–æ—Å

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø**: `array` - –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  
**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: `Exception` - –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–ª–∏–∞—Å –¥–ª—è –º–µ—Ç–æ–¥–∞ `request()` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL –∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

### –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã (–ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏)

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | MySQL | PostgresSQL | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
|------------------|-------|-------------|---------------|
| –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ | `getAllRows($sql, $params = [])` | `request($sql)` / `requestArray($sql)` | ‚ùå –†–∞–∑–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã |
| –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É | `find($sql, $params = [])` | –ù–µ—Ç (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `request()` –∏ `array_pop()`) | ‚ùå –ù–µ—Ç –≤ PostgresSQL |
| –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ | `getSingleValue($sql, $params = [])` | –ù–µ—Ç | ‚ùå –ù–µ—Ç –≤ PostgresSQL |
| –í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ | `insert($table, $data)` | –ù–µ—Ç | ‚ùå –ù–µ—Ç –≤ PostgresSQL |
| –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ | `delete($table, $where, $params = [])` | –ù–µ—Ç | ‚ùå –ù–µ—Ç –≤ PostgresSQL |
| –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ | `getColumns($table, $columns, $where, $params)` | –ù–µ—Ç | ‚ùå –ù–µ—Ç –≤ PostgresSQL |
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | `doConnect()` | –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ | ‚ùå –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã |

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã MySQL

- `doConnect()` - —è–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- `getSingleValue()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- `getColumns()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Å —É—Å–ª–æ–≤–∏—è–º–∏
- `find()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `delete()` - —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `insert()` - –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã PostgresSQL

- –ù–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (—Ç–æ–ª—å–∫–æ `request()` –∏ `requestArray()`)

---

## üîó –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### MySQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å)
- –û–ø–µ—Ä–∞—Ü–∏–∏: `getAllRows()`, `find()`, `insert()`, `delete()`, `getSingleValue()`
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
  - `Bridge.php` - —Ä–∞–±–æ—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π `migrations_mapping`
  - `QualityReport.php` - –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –º–∏–≥—Ä–∞—Ü–∏–π
  - `WaveProc.php` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–ª–Ω –º–∏–≥—Ä–∞—Ü–∏–π

### PostgresSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Ministry Brands (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
- –û–ø–µ—Ä–∞—Ü–∏–∏: `request()`, `requestArray()`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `DBConnector`:
  - `DBConnector::request()` ‚Üí `PostgresSQL::request()`
  - `DBConnector::requestArray()` ‚Üí `PostgresSQL::requestArray()`
  - `DBConnector::requestOne()` ‚Üí `PostgresSQL::request()` + `array_pop()`
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
  - `MBProjectDataCollector.php` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ MB —á–µ—Ä–µ–∑ `$this->db->request()` –∏ `$this->db->requestArray()`

---

## ‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é**:
   - MySQL: —è–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `doConnect()` –ø–æ—Å–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
   - PostgresSQL: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ

2. **–†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º**:
   - MySQL: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `$params = []`
   - PostgresSQL: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ä–∏—Å–∫ SQL injection)

3. **–†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**:
   - MySQL: –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–º–µ—Ç–æ–¥—ã –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π)
   - PostgresSQL: –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL)

4. **–†–∞–∑–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**:
   - MySQL: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å)
   - PostgresSQL: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MB (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)

5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - MySQL: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ "server has gone away"
   - PostgresSQL: –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ–ª—å–∫–æ —Å –º–µ—Ç–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –æ–±–æ–∏—Ö –∫–ª–∞—Å—Å–∞—Ö –∏–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –æ–±–æ–∏—Ö:

1. **–ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫**:
   - MySQL: `getAllRows($sql, $params = [])`
   - PostgresSQL: `request($sql)` –∏–ª–∏ `requestArray($sql)`
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ `query($sql, $params = [])` –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏
   - PostgresSQL –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

2. **–ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - MySQL: `find($sql, $params = [])`
   - PostgresSQL: –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `request()` –∏ `array_pop()` –∏–ª–∏ `array_shift()`
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `queryOne($sql, $params = [])` –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∏–ª–∏ null

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã CRUD –≤ PostgresSQL –∏–ª–∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å API:

1. `query($sql, $params = [])` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫
2. `queryOne($sql, $params = [])` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
3. `queryValue($sql, $params = [])` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
4. `insert($table, $data)` - –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
5. `delete($table, $where, $params = [])` - —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
6. `update($table, $data, $where, $params = [])` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–∞–º–∏:
- `query($sql, $params = [])` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
- `queryOne($sql, $params = [])` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç:
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –æ–±–µ–∏–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ù–µ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ PostgresSQL (–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã)
- –ü–æ–∑–≤–æ–ª–∏—Ç—å MySQL –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã

---

## üîç –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ):
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ (`query()` / `getAllRows()` / `request()`)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (`queryOne()` / `find()`) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ

### –í–´–°–û–ö–ò–ï (–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã):
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (`queryValue()` / `getSingleValue()`) - –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `queryOne()`
- –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`insert()`) - —Ç–æ–ª—å–∫–æ –¥–ª—è MySQL, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (`delete()`) - —Ç–æ–ª—å–∫–æ –¥–ª—è MySQL, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –°–†–ï–î–ù–ò–ï (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ):
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (`update()`) - –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ (`getColumns()`) - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è MySQL

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `query($sql, $params = [])` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
   - `queryOne($sql, $params = [])` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

2. **–î–ª—è MySQL**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –ø–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
   - `getAllRows()` ‚Üí `query()`
   - `find()` ‚Üí `queryOne()`

3. **–î–ª—è PostgresSQL**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ:
   - `query()` ‚Üí `request()`
   - `queryOne()` ‚Üí `request()` + `array_shift()` –∏–ª–∏ `array_pop()`

4. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –û–±–∞ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (PostgresSQL –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å)

5. **–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –û–±–∞ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å `Exception` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `DatabaseInterface` –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–∑–∞–¥–∞—á–∞ 1.7)
